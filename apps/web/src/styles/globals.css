@import "tailwindcss";
@import "tw-animate-css";
@import "react-day-picker/style.css";
@import "./table.css";
@import "./checkbox.css";
@import "./cmdk.css";

/* Rich colors (DARK MODE / Dataweb): variante scura specifica per Dataweb.
   Selettore più specifico (html.dark[...]) in coda al file così i valori dark vincono
   rispetto alla variante light quando la classe .dark è presente sul root. */
html.dark[data-color-scheme="rich"] {
	/* Background principale leggermente più scuro per migliorare il contrasto con le card. */
	--background: oklch(0.21 0.07 250);
	/* Card e superfici: un gradino sopra il background per staccare i pannelli. */
	--card: oklch(0.25 0.07 252);

	/* Tabelle: header, contenitore, pulsanti e hover con gerarchia chiara. */
	--table-container-background: oklch(0.215 0.065 250);
	--table-header: oklch(0.28 0.075 252);
	--table-buttons: oklch(0.29 0.08 252);
	--table-hover: oklch(0.255 0.07 252);

	/* Secondary (pulsanti Scarica, Annulla, outline): più chiaro di card/header per contrasto visibile. */
	--secondary: oklch(0.38 0.09 252);
	--secondary-foreground: oklch(0.97 0 0);

	/* Sidebar / navbar: blu più profondo dello sfondo per enfatizzare la navigazione. */
	--sidebar: oklch(0.18 0.08 250);
	--sidebar-accent: oklch(0.3 0.1 255);
	--sidebar-border: oklch(0.33 0.06 258);
	--sidebar-ring: oklch(0.54 0.09 260);

	/* Testo neutro chiaro (senza tinta) per massima leggibilità sul blu. */
	--sidebar-foreground: oklch(0.97 0 0);
	--sidebar-primary: oklch(1 0 0);
	--sidebar-primary-foreground: oklch(0.97 0 0);
	/* Voci di navigazione non attive leggermente desaturate ma ancora leggibili. */
	--sidebar-secondary: oklch(0.82 0.025 255);
	--sidebar-accent-foreground: oklch(0.97 0 0);
}

@custom-variant dark (&:is(.dark *));

@theme {
	--font-inter:
		var(--font-inter), ui-sans-serif, system-ui, sans-serif,
		"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
	--font-sf-pro-rounded:
		var(--font-sf-pro-rounded), ui-sans-serif, system-ui, sans-serif,
		"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

@theme inline {
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-search-placeholder: var(--search-placeholder);
	--color-card: var(--card);
	--color-table-container-background: var(--table-container-background);
	--color-card-foreground: var(--card-foreground);
	--color-button-secondary: var(--button-secondary);
	--color-button-inactive: var(--button-inactive);
	--color-button-inactive-foreground: var(--button-inactive-foreground);
	--color-stats-title: var(--stats-title);
	--color-stats-secondary: var(--stats-secondary);
	--color-table-header: var(--table-header);
	--color-table-header-foreground: var(--table-header-foreground);
	--color-green: var(--green);
	--color-dark-green: var(--dark-green);
	--color-checkbox-border: var(--checkbox-border);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-table-buttons: var(--table-buttons);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--color-chart-1: var(--chart-1);
	--color-chart-2: var(--chart-2);
	--color-chart-3: var(--chart-3);
	--color-chart-4: var(--chart-4);
	--color-chart-5: var(--chart-5);
	--color-sidebar: var(--sidebar);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-secondary: var(--sidebar-secondary);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-ring: var(--sidebar-ring);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-warning-foreground: var(--warning-foreground);
	--color-warning: var(--warning);
	--color-success-foreground: var(--success-foreground);
	--color-success: var(--success);
	--color-info-foreground: var(--info-foreground);
	--color-info: var(--info);
	--color-status-assigned-accent: var(--status-assigned-accent);
	--color-status-assigned-background: var(--status-assigned-background);
	--color-status-assigned-icon: var(--status-assigned-icon);
	--color-status-in-progress-accent: var(--status-in-progress-accent);
	--color-status-in-progress-background: var(--status-in-progress-background);
	--color-status-in-progress-icon: var(--status-in-progress-icon);
	--color-status-completed-accent: var(--status-completed-accent);
	--color-status-completed-background: var(--status-completed-background);
	--color-status-completed-icon: var(--status-completed-icon);
	--color-status-suspended-accent: var(--status-suspended-accent);
	--color-status-suspended-background: var(--status-suspended-background);
	--color-status-suspended-icon: var(--status-suspended-icon);
	--color-avatar-placeholder-icon: var(--avatar-placeholder-icon);
	--color-avatar-placeholder-bg: var(--avatar-placeholder-bg);
	/* Table hover background token */
	--color-table-hover: var(--table-hover);
}

:root {
	--radius: 0.625rem;
	--background: oklch(1 0 0);
	--foreground: oklch(0.145 0 0);
	--card: oklch(0.9581 0 0);
	--table-container-background: oklch(1 0 0);
	--card-foreground: oklch(0.145 0 0);
	--table-buttons: oklch(1 0 0);
	--popover: oklch(1 0 0);
	--popover-foreground: oklch(0.145 0 0);
	--primary: oklch(0.205 0 0);
	--primary-foreground: oklch(0.985 0 0);
	--stats-secondary: oklch(0.8109 0 0);
	--stats-title: oklch(0.5555 0 0);
	--secondary: oklch(0.97 0 0);
	--secondary-foreground: oklch(0.205 0 0);
	--green: oklch(0.5579 0.183 141.5);
	--dark-green: oklch(0.9678 0.0263 138.29);
	--table-header: oklch(0.9761 0 0);
	/* Hover background for table rows in the default light theme.
	   Slightly darker than the card/background to be visible but subtle. */
	--table-hover: oklch(0.968 0 0);
	--table-header-foreground: oklch(0.5452 0 0);
	--muted: oklch(0.97 0 0);
	--muted-foreground: oklch(0.556 0 0);
	--accent: oklch(0.97 0 0);
	--accent-foreground: oklch(0.205 0 0);
	--destructive: oklch(0.577 0.245 27.325);
	--border: oklch(0.922 0 0);
	--input: oklch(0.922 0 0);
	--ring: oklch(0.708 0 0);
	--chart-1: oklch(0.646 0.222 41.116);
	--chart-2: oklch(0.6 0.118 184.704);
	--chart-3: oklch(0.398 0.07 227.392);
	--chart-4: oklch(0.828 0.189 84.429);
	--chart-5: oklch(0.769 0.188 70.08);
	--sidebar: oklch(0.985 0 0);
	--sidebar-foreground: oklch(0.145 0 0);
	--sidebar-primary: oklch(0.205 0 0);
	--sidebar-primary-foreground: oklch(0.985 0 0);
	--sidebar-secondary: oklch(0.4784 0 0);
	--sidebar-accent: oklch(0.97 0 0);
	--sidebar-accent-foreground: oklch(0.205 0 0);
	--sidebar-border: oklch(0.922 0 0);
	--sidebar-ring: oklch(0.708 0 0);
	--button-secondary: oklch(0.556 0 0);
	--button-inactive: oklch(0.9821 0 0);
	--button-inactive-foreground: oklch(0.5382 0 0);
	--search-placeholder: oklch(0.5863 0 0);
	--destructive-foreground: var(--color-red-700);
	--info: var(--color-blue-500);
	--info-foreground: var(--color-blue-700);
	--success: var(--color-emerald-500);
	--success-foreground: var(--color-emerald-700);
	--warning: var(--color-amber-500);
	--warning-foreground: var(--color-amber-700);
	--checkbox-border: oklch(0.556 0 0);
	--checkbox-checkmark: oklch(0.985 0 0);
	--checkbox-fill-background: oklch(0.145 0 0);
	/* Scrollbar colors - Light mode */
	--scrollbar-track: oklch(0.97 0 0);
	--scrollbar-thumb: oklch(0.85 0 0);
	--scrollbar-thumb-hover: oklch(0.75 0 0);
	/* Avatar placeholder colors - Light mode */
	--avatar-placeholder-icon: oklch(0.754 0 0);
	--avatar-placeholder-bg: oklch(0.9581 0 0);
	/* Status colors - Light mode */
	--status-assigned-accent: oklch(0.75 0.15 200);
	--status-assigned-background: oklch(0.95 0.02 200);
	--status-assigned-icon: oklch(0.75 0.15 200);
	--status-in-progress-accent: oklch(0.65 0.15 85);
	--status-in-progress-background: oklch(0.97 0.03 85);
	--status-in-progress-icon: oklch(0.65 0.15 85);
	--status-completed-accent: oklch(0.65 0.2 140);
	--status-completed-background: oklch(0.95 0.02 140);
	--status-completed-icon: oklch(0.65 0.2 140);
	--status-suspended-accent: oklch(0.65 0.2 25);
	--status-suspended-background: oklch(0.97 0.02 25);
	--status-suspended-icon: oklch(0.65 0.2 25);
}

.dark {
	/* Palette dark predefinita (neutra), usata quando lo schema colore non è Dataweb. */
	--background: oklch(0.2645 0 0);
	--foreground: oklch(0.985 0 0);
	--card: oklch(0.2264 0 0);
	--table-container-background: oklch(0.2645 0 0);
	--table-buttons: oklch(0.2645 0 0);
	--card-foreground: oklch(0.985 0 0);
	--button-secondary: oklch(0.66 0 0);
	--button-inactive: oklch(0.2478 0 0);
	--button-inactive-foreground: oklch(0.5863 0 0);
	--popover: oklch(0.205 0 0);
	--popover-foreground: oklch(0.985 0 0);
	--stats-title: oklch(0.7187 0 0);
	--stats-secondary: oklch(0.4748 0 0);
	--green: oklch(0.7433 0.2474 141.75);
	--search-placeholder: oklch(0.5863 0 0);
	--dark-green: oklch(0.3199 0.05 139.48);
	--table-header: oklch(0.2972 0 0);
	/* Hover background for table rows in the default dark theme.
	   A touch lighter than the container to give a clear but soft highlight. */
	--table-hover: oklch(0.285 0 0);
	--table-header-foreground: oklch(0.7187 0 0);
	--checkbox-border: oklch(0.4712 0 0);
	--primary: oklch(0.922 0 0);
	--primary-foreground: oklch(0.205 0 0);
	--secondary: oklch(0.269 0 0);
	--secondary-foreground: oklch(0.985 0 0);
	--muted: oklch(0.269 0 0);
	--muted-foreground: oklch(0.708 0 0);
	--accent: oklch(0.269 0 0);
	--accent-foreground: oklch(0.985 0 0);
	--destructive: oklch(0.704 0.191 22.216);
	--border: oklch(1 0 0 / 10%);
	--input: oklch(1 0 0 / 15%);
	--ring: oklch(0.556 0 0);
	--chart-1: oklch(0.488 0.243 264.376);
	--chart-2: oklch(0.696 0.17 162.48);
	--chart-3: oklch(0.769 0.188 70.08);
	--chart-4: oklch(0.627 0.265 303.9);
	--chart-5: oklch(0.645 0.246 16.439);
	--sidebar: oklch(0.205 0 0);
	--sidebar-foreground: oklch(0.985 0 0);
	--sidebar-primary: oklch(1 0 0);
	--sidebar-secondary: oklch(0.8015 0 0);
	--sidebar-primary-foreground: oklch(0.985 0 0);
	--sidebar-accent: oklch(0.2264 0 0);
	--sidebar-accent-foreground: oklch(0.985 0 0);
	--sidebar-border: oklch(1 0 0 / 10%);
	--sidebar-ring: oklch(0.556 0 0);
	--destructive-foreground: var(--color-red-400);
	--info: var(--color-blue-500);
	--info-foreground: var(--color-blue-400);
	--success: var(--color-emerald-500);
	--success-foreground: var(--color-emerald-400);
	--warning: var(--color-amber-500);
	--warning-foreground: var(--color-amber-400);
	--checkbox-checkmark: oklch(0.985 0 0);
	--checkbox-fill-background: oklch(0.145 0 0);
	/* Scrollbar colors - Dark mode */
	--scrollbar-track: oklch(0.269 0 0);
	--scrollbar-thumb: oklch(0.45 0 0);
	--scrollbar-thumb-hover: oklch(0.55 0 0);
	/* Avatar placeholder colors - Dark mode */
	--avatar-placeholder-icon: oklch(0.5693 0 0);
	--avatar-placeholder-bg: oklch(0.36 0 0);
	/* Status colors - Dark mode */
	--status-assigned-accent: oklch(0.7426 0.1434 244.07);
	--status-assigned-background: oklch(0.3038 0.0312 239.84);
	--status-assigned-icon: oklch(0.7426 0.1434 244.07);
	--status-in-progress-accent: oklch(0.8 0.22 85);
	--status-in-progress-background: oklch(0.35 0.05 85);
	--status-in-progress-icon: oklch(0.8 0.22 85);
	--status-completed-accent: oklch(0.7621 0.1806 148.62);
	--status-completed-background: oklch(0.3057 0.0379 155.53);
	--status-completed-icon: oklch(0.7621 0.1806 148.62);
	--status-suspended-accent: oklch(0.6656 0.2213 25.57);
	--status-suspended-background: oklch(0.2807 0.0388 17.23);
	--status-suspended-icon: oklch(0.6656 0.2213 25.57);
}

/* Accent color overrides (preferences dialog). Applied via data-accent on <html>. */
:root[data-accent="blue"] {
	--primary: oklch(0.45 0.2 250);
	--ring: oklch(0.55 0.2 250);
}
:root[data-accent="green"] {
	--primary: oklch(0.5 0.18 145);
	--ring: oklch(0.55 0.18 145);
}
:root[data-accent="purple"] {
	--primary: oklch(0.5 0.22 300);
	--ring: oklch(0.55 0.22 300);
}
:root[data-accent="orange"] {
	--primary: oklch(0.65 0.18 55);
	--ring: oklch(0.7 0.18 55);
}
:root[data-accent="pink"] {
	--primary: oklch(0.6 0.22 340);
	--ring: oklch(0.65 0.22 340);
}
:root[data-accent="red"] {
	--primary: oklch(0.55 0.22 25);
	--ring: oklch(0.6 0.22 25);
}
:root[data-accent="yellow"] {
	--primary: oklch(0.75 0.18 95);
	--ring: oklch(0.8 0.18 95);
}

.dark[data-accent="blue"] {
	--primary: oklch(0.7 0.18 250);
	--ring: oklch(0.65 0.18 250);
}
.dark[data-accent="green"] {
	--primary: oklch(0.72 0.18 145);
	--ring: oklch(0.67 0.18 145);
}
.dark[data-accent="purple"] {
	--primary: oklch(0.72 0.2 300);
	--ring: oklch(0.67 0.2 300);
}
.dark[data-accent="orange"] {
	--primary: oklch(0.8 0.16 55);
	--ring: oklch(0.75 0.16 55);
}
.dark[data-accent="pink"] {
	--primary: oklch(0.75 0.2 340);
	--ring: oklch(0.7 0.2 340);
}
.dark[data-accent="red"] {
	--primary: oklch(0.75 0.2 25);
	--ring: oklch(0.7 0.2 25);
}
.dark[data-accent="yellow"] {
	--primary: oklch(0.88 0.14 95);
	--ring: oklch(0.82 0.14 95);
}

/* Rich colors (DARK MODE / Dataweb): blu notte più profondi, maggiore contrasto tra contenuto e sidebar. */
.dark[data-color-scheme="rich"] {
	/* Background principale leggermente più scuro per migliorare il contrasto con le card. */
	--background: oklch(0.21 0.07 250);
	/* Card e superfici: un gradino sopra il background per staccare i pannelli. */
	--card: oklch(0.25 0.07 252);

	/* Tabelle: header, contenitore, pulsanti e hover con gerarchia chiara. */
	--table-container-background: oklch(0.215 0.065 250);
	--table-header: oklch(0.28 0.075 252);
	--table-buttons: oklch(0.29 0.08 252);
	--table-hover: oklch(0.255 0.07 252);

	/* Secondary (pulsanti Scarica, Annulla, outline): più chiaro di card/header per contrasto visibile. */
	--secondary: oklch(0.38 0.09 252);
	--secondary-foreground: oklch(0.97 0 0);

	/* Sidebar / navbar: blu più profondo dello sfondo per enfatizzare la navigazione. */
	--sidebar: oklch(0.18 0.08 250);
	--sidebar-accent: oklch(0.3 0.1 255);
	--sidebar-border: oklch(0.33 0.06 258);
	--sidebar-ring: oklch(0.54 0.09 260);

	/* Testo neutro chiaro (senza tinta) per massima leggibilità sul blu. */
	--sidebar-foreground: oklch(0.97 0 0);
	--sidebar-primary: oklch(1 0 0);
	--sidebar-primary-foreground: oklch(0.97 0 0);
	/* Voci di navigazione non attive leggermente desaturate ma ancora leggibili. */
	--sidebar-secondary: oklch(0.82 0.025 255);
	--sidebar-accent-foreground: oklch(0.97 0 0);
}

/* Rich colors (LIGHT MODE): sfondo, sidebar e accent vivaci; testo resta neutro. */
[data-color-scheme="rich"] {
	/* Background principale e card leggermente azzurrate */
	--background: oklch(0.4394 0.1458 255.5);
	--card: oklch(0.99 0.015 250);
	--table-header: oklch(0.96 0.025 250);
	--table-container-background: oklch(1 0 0);
	--table-buttons: oklch(0.96 0.025 250);
	--table-hover: oklch(0.96 0.025 250);

	/* Foreground on blue (body, outline buttons): light for contrast. Card content keeps dark text. */
	--foreground: oklch(0.98 0 0);
	--card-foreground: oklch(0.145 0 0);
	--muted-foreground: oklch(0.556 0 0);

	/* Sidebar / navbar: colori forniti (light mode) */
	--sidebar: oklch(0.4371 0.1471 255.88);
	--sidebar-accent: oklch(0.5591 0.1086 257.13);
	--sidebar-border: oklch(0.5 0.08 260);
	--sidebar-ring: oklch(0.65 0.1 260);

	/* Testo neutro (bianco / grigio, senza tinta di colore) */
	--sidebar-foreground: oklch(0.98 0 0);
	--sidebar-primary: oklch(1 0 0);
	--sidebar-primary-foreground: oklch(0.98 0 0);
	/* Non-active nav items color in rich theme */
	--sidebar-secondary: oklch(0.8544 0.0376 254.58);
	--sidebar-accent-foreground: oklch(0.98 0 0);
}

/* Dataweb light: content on card/table-container uses dark text for readability. */
[data-color-scheme="rich"] .bg-card,
[data-color-scheme="rich"] .table-container-bg {
	color: var(--card-foreground);
}

/* Dataweb dark: override rich light's dark --card-foreground so table/card content stays light on dark. */
html.dark[data-color-scheme="rich"] {
	--foreground: oklch(0.97 0 0);
	--card-foreground: oklch(0.97 0 0);
}

/* Dataweb light: outline-style buttons (e.g. Aggiungi allegati) use light text on blue; on hover bg becomes muted (light) so switch text to dark for contrast. */
[data-color-scheme="rich"] .bg-background.hover\:bg-muted:hover {
	color: var(--card-foreground);
}

/* Font style: default = Inter, rounded = SF Pro Rounded (via class on html from layout). */
html[data-font="default"] {
	font-family: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
}
html[data-font="rounded"] {
	font-family: var(--font-sf-pro-rounded), ui-sans-serif, system-ui, sans-serif;
}

/* Font size preference: scales base so all rem-based UI follows. Uses % to respect browser default. */
html:not([data-font-size]),
html[data-font-size="medium"] {
	font-size: 100%;
}
html[data-font-size="small"] {
	font-size: 87.5%;
}
html[data-font-size="large"] {
	font-size: 112.5%;
}

@layer base {
	* {
		@apply border-border outline-ring/50;
	}
	html {
		@apply h-full overflow-hidden;
	}
	body {
		@apply bg-background text-foreground h-full overflow-hidden;
	}

	/* Button press animation */
	button {
		cursor: pointer;
		transition: transform 150ms ease;
	}

	button:active {
		transform: scale(0.97);
	}

	@media (prefers-reduced-motion: reduce) {
		button {
			transition: none;
		}

		button:active {
			transform: none;
		}
	}

	/* Text selection highlight */
	::selection {
		background-color: white;
		color: black;
	}

	::-moz-selection {
		background-color: white;
		color: black;
	}

	/* Custom scrollbar styles */
	* {
		scrollbar-width: thin;
		scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
	}

	/* Webkit scrollbar styles */
	*::-webkit-scrollbar {
		width: 10px;
		height: 10px;
	}

	*::-webkit-scrollbar-track {
		background: var(--scrollbar-track);
		border-radius: 9999px;
	}

	*::-webkit-scrollbar-thumb {
		background: var(--scrollbar-thumb);
		border-radius: 9999px;
		border: 2px solid var(--scrollbar-track);
		transition: background-color 0.2s ease;
	}

	*::-webkit-scrollbar-thumb:hover {
		background: var(--scrollbar-thumb-hover);
	}

	*::-webkit-scrollbar-corner {
		background: var(--scrollbar-track);
	}
}

@layer components {
	/* Table shell helpers: use the dedicated table container background token */
	.table-container-bg {
		background-color: var(--table-container-background);
	}

	/* Table header uses the specific table header color token */
	.table-header-bg {
		background-color: var(--table-header);
	}

	/* Range inputs used for "Percentuale avanzamento" in Create/Update negotiation dialogs.
	   Keep the native slider fully interactive (track + thumb) but hide its visuals so that
	   only the custom track and decorative handle are visible. */
	#create-percentuale,
	#update-percentuale {
		@apply appearance-none bg-transparent outline-none ring-0;
	}

	/* WebKit (Chrome, Safari, Edge) */
	#create-percentuale::-webkit-slider-thumb,
	#update-percentuale::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 18px;
		height: 18px;
		border-radius: 9999px;
		background: transparent;
		border: none;
		opacity: 0; /* Keep hit area, hide visual thumb */
	}

	#create-percentuale::-webkit-slider-runnable-track,
	#update-percentuale::-webkit-slider-runnable-track {
		height: 100%;
		background: transparent;
		border: none;
	}

	/* Firefox */
	#create-percentuale::-moz-range-thumb,
	#update-percentuale::-moz-range-thumb {
		width: 18px;
		height: 18px;
		border-radius: 9999px;
		background: transparent;
		border: none;
		opacity: 0;
	}

	#create-percentuale::-moz-range-track,
	#update-percentuale::-moz-range-track {
		height: 100%;
		background: transparent;
		border: none;
	}

	/* Legacy Edge / IE */
	#create-percentuale::-ms-thumb,
	#update-percentuale::-ms-thumb {
		width: 18px;
		height: 18px;
		border-radius: 9999px;
		background: transparent;
		border: none;
		opacity: 0;
	}

	#create-percentuale::-ms-track,
	#update-percentuale::-ms-track {
		height: 100%;
		background: transparent;
		border: none;
		color: transparent;
	}

	/* Number input (Importo): spin buttons always visible and easier to use (larger hit area, no opacity fade). */
	#update-importo::-webkit-inner-spin-button,
	#update-importo::-webkit-outer-spin-button {
		opacity: 1;
		height: 1.5rem;
		width: 1.25rem;
		min-height: 1.5rem;
		min-width: 1rem;
		cursor: pointer;
	}
	#update-importo::-webkit-outer-spin-button {
		margin-right: 0.25rem;
	}
}

.clip-path-container {
	position: absolute;
	top: 0;
	left: 0;
	z-index: 10;
	width: 100%;
	height: 100%;
	overflow: hidden;
	transition: clip-path 0.25s ease;
	clip-path: inset(0px 75% 0px 0% round 17px);
}

.clip-path-container ul {
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	position: relative;
}

.halo {
	z-index: 0;
	border-radius: 50%;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: 5px;
	height: 5px;
	background-color: var(--destructive);
	animation: halo-animation 3.5s ease-out infinite both;
	pointer-events: none;
}

@keyframes halo-animation {
	0% {
		transform: translate(-50%, -50%) scale(0);
		opacity: 0;
	}
	35% {
		opacity: 0.7;
	}
	70% {
		transform: translate(-50%, -50%) scale(4.5);
		opacity: 0;
	}
	100% {
		transform: translate(-50%, -50%) scale(0);
		opacity: 0;
	}
}

/* Vaul drawer: hide the ::after shape that extends below the drawer (visible under "Nuova trattativa" drawer). */
[data-vaul-drawer].create-negotiation-drawer::after,
[data-vaul-drawer]:has(.create-negotiation-drawer)::after {
	display: none !important;
}

/* React DayPicker in DateRangeFilter: usa colori del sito (card, background, foreground).
   Mantiene angoli arrotondati per il range selezionato (start/end); il default
   applica border-radius:unset a range_middle che rende tutto spigoloso. */
.date-range-filter-calendar .rdp-root {
	--rdp-accent-color: var(--primary);
	--rdp-accent-background-color: var(--primary);
	--rdp-background-color: var(--card);
	--rdp-day_button-border-radius: 9999px;
	--rdp-range_start-background: var(--primary);
	--rdp-range_start-color: var(--primary-foreground);
	--rdp-range_middle-background-color: color-mix(
		in oklch,
		var(--primary) 20%,
		transparent
	);
	--rdp-range_middle-color: var(--foreground);
	--rdp-range_end-background: var(--primary);
	--rdp-range_end-color: var(--primary-foreground);
}

.date-range-filter-calendar .rdp-day_button {
	color: var(--foreground);
}

/* range_start: angoli arrotondati solo a sinistra; range_end: solo a destra.
   Si applica sia alla cella (.rdp-day) sia al bottone; !important per override
   sugli stili importati da react-day-picker. */
.date-range-filter-calendar .rdp-day.rdp-range_start,
.date-range-filter-calendar .rdp-day.rdp-range_start .rdp-day_button {
	border-radius: 9999px 0 0 9999px !important;
}
.date-range-filter-calendar .rdp-day.rdp-range_end,
.date-range-filter-calendar .rdp-day.rdp-range_end .rdp-day_button {
	border-radius: 0 9999px 9999px 0 !important;
}

.date-range-filter-calendar .rdp-caption_label {
	color: var(--foreground);
}

.date-range-filter-calendar .rdp-head_cell {
	color: var(--muted-foreground);
}

/* Mapbox GL: ensure map, canvas container and canvas fill their parent for proper display. */
.mapboxgl-map,
.mapboxgl-canvas-container,
.mapboxgl-canvas {
	width: 100% !important;
	height: 100% !important;
}
